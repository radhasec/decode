(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9820],{5405:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/graphic/convert",function(){return n(312)}])},312:function(t,e,n){"use strict";n.r(e);var i=n(5893),r=n(7294),o=n(2688),a=n(1132),c=n(9216),l=n(4361),u=n(8198),s=n(5317),m=n(8185);function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(l){c=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return o}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}var p=[{mime:"image/png",name:"PNG",extension:"png"},{mime:"image/jpeg",name:"JPEG",extension:"jpg"},{mime:"image/webp",name:"WEBP",extension:"webp"},{mime:"image/ico",name:"ICO",extension:"ico"},{mime:"image/bmp",name:"BMP",extension:"bmp"},{mime:"image/gif",name:"GIF",extension:"gif"},{mime:"image/tif",name:"TIFF",extension:"tif"}],y=function(t){var e=t.contents,n=t.file,o=t.format,a=t.removeSelf,c=(0,r.useState)(!1),f=c[0],b=c[1],d=(0,r.useState)(!1),g=d[0],h=d[1],p=(0,r.useState)(""),y=p[0],x=p[1];return(0,r.useEffect)((function(){try{!function(t,e,n){var i=document.createElement("canvas"),r=i.getContext("2d"),o=new Image;o.onload=function(){i.width=o.width,i.height=o.height,r&&r.drawImage(o,0,0),n(i.toDataURL(e.mime))},o.src=t}(e,o,(function(t){x(t),b(!0)}))}catch(t){console.error(t),h(!0)}}),[e,o]),(0,i.jsxs)("div",{className:" flex items-center gap-6 mb-2 p-4 rounded-md border bg-slate-50 border-slate-300 dark:bg-slate-800 dark:border-slate-700 ",children:[g?(0,i.jsx)(u.GR,{size:1.5}):f?(0,i.jsx)(u.Yb,{size:1.5}):(0,i.jsx)(u.Tk,{size:1.5}),(0,i.jsxs)("div",{className:" flex flex-col grow ",children:[(0,i.jsx)("div",{className:"",children:n.name}),(0,i.jsx)("div",{className:"text-slate-600 dark:text-slate-300",children:(0,m.aI)(n.size)})]}),(0,i.jsx)("div",{className:" flex flex-col grow text-right ",children:(0,i.jsx)("div",{className:"",children:o.name})}),g?null:f?(0,i.jsx)(l.zx,{style:"flat",hint:"Save",icon:s.OGU,onClick:function(){return function(t,e){var n=document.createElement("a");n.download=e,n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}(y,function(t,e){return(t=t.slice(0,t.lastIndexOf(".")))+"."+e.extension}(n.name,o))}}):(0,i.jsx)(l.zx,{style:"flat",hint:"Cancel",icon:s.r5M,onClick:a}),f||g?(0,i.jsx)(l.zx,{style:"flat",hint:"Delete",icon:s.j43,onClick:a}):null]})};e.default=function(){var t=d((0,o._)("imgconvert-outFormat",0),2),e=t[0],n=t[1],u=(0,r.useState)([]),m=u[0],f=u[1],h=(0,r.useState)([]),x=h[0],v=h[1];return(0,r.useEffect)((function(){f(function(){var t=document.createElement("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e&&(e.fillStyle="red",e.fillRect(0,0,1,1)),p.filter((function(e){return t.toDataURL(e.mime).startsWith("data:".concat(e.mime))}))}())}),[]),(0,i.jsxs)(a.Z,{title:"Image Converter",children:[(0,i.jsx)(c.Z,{type:"config",items:[{icon:s.Psq,name:"Convert to",description:"Select a format to convert the image to",control:(0,i.jsx)(l.Ph,{value:e.toString(),options:m.map((function(t,e){return{key:e.toString(),value:t.name}})),onChange:function(t){return n(parseInt(t.target.value))}})}]}),(0,i.jsx)(c.Z,{body:(0,i.jsx)(l.b8,{accept:"image/*",readAs:"objectURL",multiple:!0,cb:function(t,n){return v([{contents:t,file:n,format:p[e]}].concat(g(x)))}})}),(0,i.jsx)(c.Z,{controls:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.zx,{icon:s.OGU,label:"Save all",onClick:function(){return null}}),(0,i.jsx)(l.zx,{icon:s.j43,label:"Delete all",onClick:function(){return v([])}})]}),body:x.map((function(t,e){return(0,i.jsx)(y,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){b(t,e,n[e])}))}return t}({removeSelf:function(){return v(x.splice(e,1))}},t),e)}))})]})}},8185:function(t,e,n){"use strict";n.d(e,{aI:function(){return a},Iz:function(){return c}});var i=n(1622),r=n.n(i),o=n(2688),a=function(t){return r()(t,{locale:o.Z.get("language","en-US").split("-")[0]})},c=function(t,e){var n=t.split(/\./).map((function(t){return t.trim()}));if(""==n[0]&&(n[0]="0"),n.length>1&&""!=n[1]){var i=n[1].length,r=parseInt(n[1],e)*Math.pow(e,-i);return parseInt(n[0],e)+r}return parseInt(n[0],e)}},1622:function(t){"use strict";const e=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],n=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],r=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],o=(t,e,n)=>{let i=t;return"string"===typeof e||Array.isArray(e)?i=t.toLocaleString(e,n):!0!==e&&void 0===n||(i=t.toLocaleString(void 0,n)),i};t.exports=(t,a)=>{if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);const c=(a=Object.assign({bits:!1,binary:!1},a)).bits?a.binary?r:i:a.binary?n:e;if(a.signed&&0===t)return` 0 ${c[0]}`;const l=t<0,u=l?"-":a.signed?"+":"";let s;if(l&&(t=-t),void 0!==a.minimumFractionDigits&&(s={minimumFractionDigits:a.minimumFractionDigits}),void 0!==a.maximumFractionDigits&&(s=Object.assign({maximumFractionDigits:a.maximumFractionDigits},s)),t<1){return u+o(t,a.locale,s)+" "+c[0]}const m=Math.min(Math.floor(a.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),c.length-1);t/=Math.pow(a.binary?1024:1e3,m),s||(t=t.toPrecision(3));return u+o(Number(t),a.locale,s)+" "+c[m]}}},function(t){t.O(0,[7702,3534,9922,7278,9774,2888,179],(function(){return e=5405,t(t.s=e);var e}));var e=t.O();_N_E=e}]);